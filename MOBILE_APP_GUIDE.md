# 📱 دليل تثبيت واستخدام التطبيق

## 📦 بناء APK

### الأمر:
```bash
cd mobile_app
flutter build apk --release
```

---

## 📍 مكان ملف APK:

بعد البناء، الملف موجود في:
```
mobile_app/build/app/outputs/flutter-apk/app-release.apk
```

**الحجم المتوقع:** ~40-60 MB

---

## 📲 تثبيت APK على الموبايل:

### **الطريقة 1: نقل مباشر (الأسهل)**

1. **وصّل الموبايل بالكمبيوتر** (USB)
2. **انسخ ملف APK** للموبايل
3. **افتح الملف** من File Manager
4. **اضغط "Install"**
5. لو ظهر تحذير "Unknown sources" → **اضغط "Settings"** → **فعّل "Install unknown apps"**
6. **Done!** 🎉

---

### **الطريقة 2: ADB (للمطورين)**

```bash
# تأكد من تفعيل USB Debugging على الموبايل
adb install mobile_app/build/app/outputs/flutter-apk/app-release.apk
```

---

### **الطريقة 3: رفع على Drive وتحميل**

1. ارفع APK على Google Drive أو OneDrive
2. افتح الرابط من الموبايل
3. حمّل وثبّت

---

## ⚙️ إعدادات التطبيق قبل الاستخدام:

### **1. فتح التطبيق أول مرة:**

- هيطلب **أذونات** (Permissions):
  - ✅ **الميكروفون** (لتسجيل الصوت)
  - ✅ **المكالمات** (للرد على المكالمات)
  - ✅ **جهات الاتصال** (لمعرفة المتصل)
  - ✅ **التخزين** (لحفظ التسجيلات)

اضغط **"Allow"** على كل حاجة!

---

### **2. ربط التطبيق بالـ Backend:**

#### **قبل تشغيل التطبيق، عدّل عنوان API:**

**الملف:** `mobile_app/lib/services/api_service.dart`

**السطر 8:**
```dart
static const String baseUrl = 'https://YOUR-RAILWAY-URL.up.railway.app/api';
```

**استبدل** `YOUR-RAILWAY-URL` بـ URL السيرفر بتاعك من Railway!

⚠️ **مهم جداً:** لو مغيرتش العنوان، التطبيق مش هيشتغل!

---

### **3. إعادة بناء APK بعد تغيير URL:**

```bash
flutter build apk --release
```

---

## 🎯 استخدام التطبيق:

### **الشاشة الرئيسية:**

- **تفعيل/إلغاء المساعد** (زر كبير في النص)
- **الإحصائيات** (عدد المكالمات، المدة، إلخ)
- **المكالمات الأخيرة** (قائمة)

---

### **التدريب الصوتي (Voice Training):**

1. اذهب لـ **"Voice Training"** من القائمة
2. **سجّل 5 عينات صوتية** (كل عينة 5-10 ثواني)
3. اضغط **"Start Training"**
4. انتظر التدريب (1-2 دقيقة)
5. **Done!** التطبيق هيرد بصوتك! 🎤

---

### **الإعدادات:**

- **Auto Answer:** تفعيل/إلغاء الرد التلقائي
- **Allowed Contacts:** جهات اتصال مسموح لها
- **Voice Speed:** سرعة الكلام
- **Response Style:** أسلوب الرد (صديق، رسمي، إلخ)

---

## 🔧 المشاكل الشائعة:

### ❌ **"App not installed"**

**السبب:** إصدار Android قديم أو مساحة غير كافية

**الحل:**
- تأكد من Android 5.0+ (API 21+)
- احذف تطبيقات لتوفير مساحة

---

### ❌ **"Parse error"**

**السبب:** APK تالف أو غير متوافق

**الحل:**
- أعد بناء APK
- تأكد من نقل الملف بشكل صحيح

---

### ❌ **التطبيق يتوقف عند الفتح**

**السبب:** API URL مش صحيح أو السيرفر مش شغال

**الحل:**
1. تأكد من URL السيرفر صحيح في `api_service.dart`
2. تأكد من السيرفر شغال على Railway
3. جرب فتح URL في المتصفح: `https://YOUR-URL/docs`

---

### ❌ **"No permission"**

**السبب:** الأذونات مش متفعّلة

**الحل:**
- Settings → Apps → المساعد الذكي → Permissions
- فعّل كل الأذونات

---

## 🎓 نصائح الاستخدام:

### ✅ **للحصول على أفضل تجربة:**

1. **سجّل عينات صوتية واضحة** (في مكان هادئ)
2. **فعّل Auto Answer** للمكالمات المهمة فقط
3. **اختبر التطبيق** بمكالمة تجريبية أولاً
4. **راجع الإحصائيات** بانتظام

---

### ⚡ **اختصارات مفيدة:**

- **اضغط على مكالمة** → شوف التفاصيل الكاملة
- **Swipe left** على مكالمة → حذف
- **Long press** على contact → إضافة/إزالة من القائمة المسموح بها

---

## 🔄 التحديثات:

### **لو عملت تحديث على الكود:**

1. `flutter build apk --release`
2. ثبّت APK الجديد فوق القديم
3. البيانات هتتحفظ تلقائياً

---

## 📊 متطلبات النظام:

| المتطلب | القيمة |
|---------|--------|
| Android Version | 5.0+ (API 21+) |
| RAM | 2 GB+ |
| Storage | 100 MB+ |
| Internet | مطلوب (للاتصال بالسيرفر) |
| Microphone | مطلوب |
| Phone Permissions | مطلوب |

---

## 🆘 الدعم:

### **لو واجهت مشكلة:**

1. **تحقق من Logs** في التطبيق
2. **جرب إعادة تشغيل** التطبيق
3. **تأكد من الإنترنت** شغال
4. **جرب إعادة تثبيت** التطبيق

---

## 🎉 الخلاصة:

✅ **APK جاهز للتثبيت**  
✅ **سهل الاستخدام**  
✅ **يدعم العربية بشكل كامل**  
✅ **مساعد صوتي ذكي**  

**استمتع بالتطبيق! 🚀**
